<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro - Ong da Rosinha</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/styles.css">
    <script>
        const prefersDarkScheme = window.matchMedia("(prefers-color-scheme: dark)");
        
        const currentTheme = localStorage.getItem("theme");
        if (currentTheme === "dark") {
            document.documentElement.setAttribute("data-theme", "dark");
        } else if (currentTheme === "light") {
            document.documentElement.setAttribute("data-theme", "light");
        } else if (prefersDarkScheme.matches) {
            document.documentElement.setAttribute("data-theme", "dark");
        }
    </script>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container header-container">
            <div class="logo">
                <img src="../assets/logo.png" alt="Ong da Rosinha Logo">
                <h1>Ong da Rosinha</h1>
            </div>
            <nav>
                <ul class="nav-menu">
                    <li><a href="home.html">Início</a></li>
                    <li><a href="doacoes.html">Doações</a></li>
                    <li><a href="solicitar.html">Solicitar Ajuda</a></li>
                    <li><a href="login.html" class="btn btn-outline">Entrar</a></li>
                </ul>
            </nav>
            <button class="theme-toggle" id="theme-toggle">
                <i class="fas fa-moon"></i>
            </button>
        </div>
    </header>

    <!-- Cadastro Section -->
    <section class="auth-section">
        <div class="container">
            <div class="auth-container">
                <div class="auth-card card">
                    <h2 class="auth-title">Cadastre-se</h2>
                    <p class="auth-subtitle">Crie sua conta</p>
                    
                    <div class="user-type-selector">
                        <div class="user-type-option active" data-type="doador">
                            <i class="fas fa-hand-holding-heart"></i>
                            <span>Doador</span>
                        </div>
                        <div class="user-type-option" data-type="beneficiario">
                            <i class="fas fa-hands-receiving"></i>
                            <span>Beneficiário</span>
                        </div>
                    </div>

                    
                    <form id="cadastro-form" class="auth-form">
                        <input type="hidden" id="tipo_usuario" value="doador">
                        
                        <!-- Campos comuns -->
                        <div class="form-group">
                            <label for="nome" class="form-label">Nome Completo</label>
                            <input type="text" id="nome" class="form-control" placeholder="Seu nome completo" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="email" class="form-label">Email</label>
                            <input type="email" id="email" class="form-control" placeholder="Seu email" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="senha" class="form-label">Senha</label>
                            <div class="password-input">
                                <input type="password" id="senha" class="form-control" placeholder="Sua senha" required>
                                <button type="button" class="password-toggle">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="confirmar_senha" class="form-label">Confirmar Senha</label>
                            <div class="password-input">
                                <input type="password" id="confirmar_senha" class="form-control" placeholder="Confirme sua senha" required>
                                <button type="button" class="password-toggle">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="telefone" class="form-label">Telefone</label>
                            <input type="tel" id="telefone" class="form-control" placeholder="(00) 00000-0000" required>
                        </div>
                        
                        <!-- Campos específicos para Doador -->
                        <div class="tipo-fields doador-fields">
                            <div class="form-group">
                                <label for="cpf_cnpj" class="form-label">CPF/CNPJ</label>
                                <input type="text" id="cpf_cnpj" class="form-control" placeholder="CPF ou CNPJ">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Tipo de Pessoa</label>
                                <div class="radio-group">
                                    <label class="radio-label">
                                        <input type="radio" name="tipo_pessoa" value="fisica" checked> Pessoa Física
                                    </label>
                                    <label class="radio-label">
                                        <input type="radio" name="tipo_pessoa" value="juridica"> Pessoa Jurídica
                                    </label>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Campos específicos para Beneficiário -->
                        <div class="tipo-fields beneficiario-fields" style="display: none;">
                            <div class="form-group">
                                <label for="cpf" class="form-label">CPF</label>
                                <input type="text" id="cpf" class="form-control" placeholder="Seu CPF">
                            </div>
                            
                            <div class="form-group">
                                <label for="data_nascimento" class="form-label">Data de Nascimento</label>
                                <input type="date" id="data_nascimento" class="form-control">
                            </div>
                            
                            <div class="form-group">
                                <label for="renda_familiar" class="form-label">Renda Familiar</label>
                                <input type="number" id="renda_familiar" class="form-control" placeholder="Renda familiar mensal">
                            </div>
                            
                            <div class="form-group">
                                <label for="num_dependentes" class="form-label">Número de Dependentes</label>
                                <input type="number" id="num_dependentes" class="form-control" placeholder="Quantas pessoas dependem de você">
                            </div>
                        </div>
                        
                        <!-- Campos de endereço (comuns) -->
                        <div class="form-group">
                            <label for="endereco" class="form-label">Endereço</label>
                            <input type="text" id="endereco" class="form-control" placeholder="Rua, número, complemento" required>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="cidade" class="form-label">Cidade</label>
                                <input type="text" id="cidade" class="form-control" placeholder="Sua cidade" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="estado" class="form-label">Estado</label>
                                <select id="estado" class="form-control" required>
                                    <option value="">Selecione</option>
                                    <option value="AC">AC</option>
                                    <option value="AL">AL</option>
                                    <option value="AP">AP</option>
                                    <option value="AM">AM</option>
                                    <option value="BA">BA</option>
                                    <option value="CE">CE</option>
                                    <option value="DF">DF</option>
                                    <option value="ES">ES</option>
                                    <option value="GO">GO</option>
                                    <option value="MA">MA</option>
                                    <option value="MT">MT</option>
                                    <option value="MS">MS</option>
                                    <option value="MG">MG</option>
                                    <option value="PA">PA</option>
                                    <option value="PB">PB</option>
                                    <option value="PR">PR</option>
                                    <option value="PE">PE</option>
                                    <option value="PI">PI</option>
                                    <option value="RJ">RJ</option>
                                    <option value="RN">RN</option>
                                    <option value="RS">RS</option>
                                    <option value="RO">RO</option>
                                    <option value="RR">RR</option>
                                    <option value="SC">SC</option>
                                    <option value="SP">SP</option>
                                    <option value="SE">SE</option>
                                    <option value="TO">TO</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="cep" class="form-label">CEP</label>
                                <input type="text" id="cep" class="form-control" placeholder="00000-000" required>
                            </div>
                        </div>
                        
                        <div class="form-group form-check">
                            <input type="checkbox" id="termos" class="form-check-input" required>
                            <label for="termos" class="form-check-label">Concordo com os <a href="termos.html">Termos de Uso</a> e <a href="privacidade.html">Política de Privacidade</a></label>
                        </div>
                        
                        <div class="form-group">
                            <button type="submit" class="btn btn-block">Cadastrar</button>
                        </div>
                    </form>
                    
                    <div class="auth-footer">
                        <p>Já tem uma conta? <a href="login.html">Faça login</a></p>
                    </div>
                </div>
                
                        <h3>Faça parte dessa corrente de solidariedade</h3>
                        <p>Junte-se a milhares de pessoas que estão fazendo a diferença na vida de quem mais precisa.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Ong da Rosinha</h3>
                    <p>Conectando quem precisa com quem pode ajudar.</p>
                    <div class="social-icons">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
                <div class="footer-section">
                    <h3>Links Rápidos</h3>
                    <ul>
                        <li><a href="home.html">Início</a></li>
                        <li><a href="doacoes.html">Doações</a></li>
                        <li><a href="solicitar.html">Solicitar Ajuda</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Contato</h3>
                    <ul>
                        <li><i class="fas fa-map-marker-alt"></i> Rua Mesquita, 125 - Nova Iguaçu</li>
                        <li><i class="fas fa-phone"></i> (21) 95933-6293</li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2025 Ong da Rosinha. Todos os direitos reservados.</p>
            </div>
        </div>
    </footer>

    <script>
        // Alternar tema
        document.getElementById("theme-toggle").addEventListener("click", function() {
            let currentTheme = document.documentElement.getAttribute("data-theme");
            let targetTheme = "light";
            
            if (currentTheme === "light") {
                targetTheme = "dark";
                this.innerHTML = '<i class="fas fa-sun"></i>';
            } else {
                this.innerHTML = '<i class="fas fa-moon"></i>';
            }
            
            document.documentElement.setAttribute("data-theme", targetTheme);
            localStorage.setItem("theme", targetTheme);
        });
        
        // Atualizar ícone do botão de tema
        window.addEventListener("DOMContentLoaded", function() {
            const themeToggle = document.getElementById("theme-toggle");
            const currentTheme = document.documentElement.getAttribute("data-theme");
            
            if (currentTheme === "dark") {
                themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
            } else {
                themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
            }
        });
        
        // Mostrar/ocultar senha
        document.querySelectorAll(".password-toggle").forEach(function(button) {
            button.addEventListener("click", function() {
                const passwordInput = this.previousElementSibling;
                const icon = this.querySelector("i");
                
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    icon.classList.remove("fa-eye");
                    icon.classList.add("fa-eye-slash");
                } else {
                    passwordInput.type = "password";
                    icon.classList.remove("fa-eye-slash");
                    icon.classList.add("fa-eye");
                }
            });
        });
        
        // Alternar tipo de usuário
        document.querySelectorAll(".user-type-option").forEach(function(option) {
            option.addEventListener("click", function() {
                // Remover classe ativa de todas as opções
                document.querySelectorAll(".user-type-option").forEach(function(opt) {
                    opt.classList.remove("active");
                });
                
                // Adicionar classe ativa à opção clicada
                this.classList.add("active");
                
                // Atualizar tipo de usuário no formulário
                const tipoUsuario = this.getAttribute("data-type");
                document.getElementById("tipo_usuario").value = tipoUsuario;
                
                // Esconder todos os campos específicos
                document.querySelectorAll(".tipo-fields").forEach(function(fields) {
                    fields.style.display = "none";
                });
                
                // Mostrar campos específicos do tipo selecionado
                document.querySelector(`.${tipoUsuario}-fields`).style.display = "block";
            });
        });
        
        // Envio do formulário
        document.getElementById("cadastro-form").addEventListener("submit", function(e) {
            e.preventDefault();
            
            // Validar senhas
            const senha = document.getElementById("senha").value;
            const confirmarSenha = document.getElementById("confirmar_senha").value;
            
            if (senha !== confirmarSenha) {
                alert("As senhas não coincidem!");
                return;
            }
            
            // Coletar dados do formulário
            const tipoUsuario = document.getElementById("tipo_usuario").value;
            const formData = {
                nome: document.getElementById("nome").value,
                email: document.getElementById("email").value,
                senha: senha,
                telefone: document.getElementById("telefone").value,
                endereco: document.getElementById("endereco").value,
                cidade: document.getElementById("cidade").value,
                estado: document.getElementById("estado").value,
                cep: document.getElementById("cep").value,
                tipo_usuario: tipoUsuario
            };
            
            // Adicionar campos específicos com base no tipo de usuário
            if (tipoUsuario === "doador") {
                formData.cpf_cnpj = document.getElementById("cpf_cnpj").value;
                formData.tipo_pessoa = document.querySelector('input[name="tipo_pessoa"]:checked').value;
            } else if (tipoUsuario === "beneficiario") {
                formData.cpf = document.getElementById("cpf").value;
                formData.data_nascimento = document.getElementById("data_nascimento").value;
                formData.renda_familiar = document.getElementById("renda_familiar").value;
                formData.num_dependentes = document.getElementById("num_dependentes").value;
            } else if (tipoUsuario === "organizacao") {
                formData.cnpj = document.getElementById("cnpj").value;
                formData.nome_responsavel = document.getElementById("nome_responsavel").value;
                formData.area_atuacao = document.getElementById("area_atuacao").value;
                formData.site = document.getElementById("site").value;
            }
            
            console.log("Cadastro:", formData);
            
            // Simulação de cadastro bem-sucedido
            alert("Cadastro realizado com sucesso! Redirecionando para a página de login...");
            window.location.href = "login.html";
        });
    </script>
</body>
</html>
